webpackJsonp([27],{NlhY:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("L7Pj"),l=i.n(s),a={data:function(){return{id:this.$route.params.id,list:[],image:""}},computed:{imgUrl:function(){return this.list.id?"http://localhost/nhkjw/"+this.list.userphoto:null}},created:function(){l()(function(){l()("#img_select").change(function(){var t=this.files[0],e=new FileReader;e.readAsDataURL(t),e.onload=function(t){l()("#img").attr("src",this.result),l()("#img_data").val(this.result)}})}),this.getlist()},methods:{onSubmit:function(){var t=this,e=this.list.username,i=this.list.userpwd,s=this.list.userphone,a=this.list.usermail,r=this.list.userphoto,n=l()("#img_data").val();this.$http.post("http://localhost/nhkjw/index.php/Admin/index/usermody",{id:this.id,userName:e,userPwd:i,userPhone:s,userMail:a,userphoto:r,img_data:n},{emulateJSON:!0}).then(function(e){200===e.status&&(0!=e.body?(t.$message.success("修改成功"),t.$router.go(-1)):t.$message.error("修改失败"))})},goSubmit:function(){this.$router.go(-1)},getlist:function(){var t=this;this.$http.post("http://localhost/nhkjw/index.php/Admin/index/usermod",{id:this.id},{emulateJSON:!0}).then(function(e){if(200===e.status){var i=e.body;t.list=i[0]}})}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form",{ref:"form",attrs:{"label-width":"80px",enctype:"multipart/form-data"}},[i("el-form-item",{attrs:{label:"用户名字"}},[i("el-input",{model:{value:t.list.username,callback:function(e){t.$set(t.list,"username",e)},expression:"list.username"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"用户密码"}},[i("el-input",{model:{value:t.list.userpwd,callback:function(e){t.$set(t.list,"userpwd",e)},expression:"list.userpwd"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"用户手机"}},[i("el-input",{model:{value:t.list.userphone,callback:function(e){t.$set(t.list,"userphone",e)},expression:"list.userphone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"用户邮箱"}},[i("el-input",{model:{value:t.list.usermail,callback:function(e){t.$set(t.list,"usermail",e)},expression:"list.usermail"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"用户头像"}},[i("img",{staticClass:"pre-img",attrs:{src:t.imgUrl}})]),t._v(" "),i("el-form-item",{attrs:{label:"更换头像"}},[i("div",[i("input",{attrs:{type:"hidden",name:"img_data",id:"img_data"}}),t._v(" "),i("input",{attrs:{type:"file",id:"img_select",accept:"image/*"}})])]),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即修改")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.goSubmit}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var n=i("C7Lr")(a,r,!1,function(t){i("yhtG")},"data-v-2b2102f4",null);e.default=n.exports},yhtG:function(t,e){}});