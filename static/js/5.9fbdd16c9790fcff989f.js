webpackJsonp([5],{"3s8O":function(t,e){},Ar6f:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("L7Pj"),l=s.n(i),a={data:function(){return{id:this.$route.params.id,list:[]}},computed:{imgUrl:function(){return this.list.id?"http://localhost/nhkjw/"+this.list.softwarepicture:null}},created:function(){l()(function(){l()("#img_select").change(function(){var t=this.files[0],e=new FileReader;e.readAsDataURL(t),e.onload=function(t){l()("#img").attr("src",this.result),l()("#img_data").val(this.result)}})}),this.getlist()},methods:{onSubmit:function(){var t=this,e=l()("#img_data").val(),s=this.list.genus,i=this.list.softwarename,a=this.list.softwareexplain,r=this.list.softwareprice,o=this.list.softwaretitle,n=this.list.softwareprovide,f=this.list.softwarelabel,u=this.list.softwaredetails,c=this.list.softwarepicture;this.$http.post("http://localhost/nhkjw/index.php/Admin/index/mody",{id:this.list.id,genus:s,softwareName:i,softwareExplain:a,softwarePrice:r,softwareTitle:o,softwareProvide:n,softwareLabel:f,softwareDetails:u,softwarePicture:c,img_data:e},{emulateJSON:!0}).then(function(e){200===e.status&&(0!=e.body?(t.$message.success("修改成功"),t.$router.push({path:"/table"})):t.$message.error("修改失败"))})},goSubmit:function(){this.$router.go(-1)},getlist:function(){var t=this;this.$http.post("http://localhost/nhkjw/index.php/Admin/index/mod",{id:this.id},{emulateJSON:!0}).then(function(e){if(200===e.status){var s=e.body;t.list=s[0]}})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-form",{ref:"form",attrs:{"label-width":"80px",enctype:"multipart/form-data"}},[s("el-form-item",{attrs:{label:"商品归属"}},[s("el-input",{model:{value:t.list.genus,callback:function(e){t.$set(t.list,"genus",e)},expression:"list.genus"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"商品名字"}},[s("el-input",{model:{value:t.list.softwarename,callback:function(e){t.$set(t.list,"softwarename",e)},expression:"list.softwarename"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"商品公司"}},[s("el-input",{model:{value:t.list.softwareexplain,callback:function(e){t.$set(t.list,"softwareexplain",e)},expression:"list.softwareexplain"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"商品公司"}},[s("el-input",{model:{value:t.list.softwareprovide,callback:function(e){t.$set(t.list,"softwareprovide",e)},expression:"list.softwareprovide"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"商品标签"}},[s("el-input",{model:{value:t.list.softwarelabel,callback:function(e){t.$set(t.list,"softwarelabel",e)},expression:"list.softwarelabel"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"商品说明"}},[s("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.list.softwaredetails,callback:function(e){t.$set(t.list,"softwaredetails",e)},expression:"list.softwaredetails"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"商品价格"}},[s("el-input",{model:{value:t.list.softwareprice,callback:function(e){t.$set(t.list,"softwareprice",e)},expression:"list.softwareprice"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"商品类型"}},[s("el-input",{model:{value:t.list.softwaretitle,callback:function(e){t.$set(t.list,"softwaretitle",e)},expression:"list.softwaretitle"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"商品图片"}},[s("img",{staticClass:"pre-img",attrs:{src:t.imgUrl}})]),t._v(" "),s("el-form-item",{attrs:{label:"更改图片"}},[s("div",[s("input",{attrs:{type:"hidden",name:"img_data",id:"img_data"}}),t._v(" "),s("input",{attrs:{type:"file",id:"img_select",accept:"image/*"}})])]),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即修改")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.goSubmit}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var o=s("C7Lr")(a,r,!1,function(t){s("3s8O")},"data-v-db2a1222",null);e.default=o.exports}});